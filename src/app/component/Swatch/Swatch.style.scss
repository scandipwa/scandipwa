/**
 * ScandiPWA - Progressive Web App for Magento
 *
 * Copyright Â© Scandiweb, Inc. All rights reserved.
 * See LICENSE for license details.
 *
 * @license OSL-3.0 (Open Software License ("OSL") v. 3.0)
 * @package scandipwa/base-theme
 * @link https://github.com/scandipwa/base-theme
 */

:root {
    --swatch-active-color: #f26323;
    --swatch-type-size: 45px;
}

.Swatch {
    --swatch-background: #fff;
    --swatch-check-mark-background: #000;
    --swatch-border-color: #000;
    --swatch-is-selected: 0;

    height: var(--swatch-type-size);
    font-size: 1rem;
    text-transform: uppercase;
    font-weight: 600;

    &_type {
        &_color {
            width: var(--swatch-type-size);
            border-radius: 50%;
            font-size: 0;

            box-shadow: inset 0 0 0 1px var(--swatch-border-color);
            background: var(--swatch-background);
            will-change: box-shadow, background-color;

            @include desktop {
                width: 25px;
                height: 25px;
            }

            &::before,
            &::after {
                content: '';
                position: absolute;

                opacity: var(--swatch-is-selected);
                transition: opacity 200ms;
                will-change: opacity, border-left, border-right;
            }

            &::before {
                width: calc(var(--swatch-type-size) + 6px);
                height: calc(var(--swatch-type-size) + 6px);
                left: -3px;
                top: -3px;
                border-radius: inherit;
                box-shadow: inherit;

                @include desktop {
                    width: 31px;
                    height: 31px;
                }
            }

            &::after {
                width: calc(var(--swatch-type-size) / 2.5);
                height: calc(var(--swatch-type-size) / 5);
                top: calc(var(--swatch-type-size) / 3.3);
                left: calc(var(--swatch-type-size) / 3.3);
                transform: rotate(-45deg);
                border: {
                    left: 2px solid var(--swatch-check-mark-background);
                    bottom: 2px solid var(--swatch-check-mark-background);
                }

                @include desktop {
                    width: 12px;
                    height: 6px;
                    top: 6px;
                    left: 6px;
                }
            }
        }
    }

    &_isPlaceholder {
        --swatch-background: var(--placeholder-image);
        --swatch-border-color: transparent;
        --swatch-check-mark-background: transparent;

        background-size: var(--placeholder-size);
        animation: var(--placeholder-animation);
    }

    &_isSelected {
        --swatch-is-selected: 1;

        color: var(--swatch-active-color);

        // Simulate bold, to prevent buttons shrinking and growing
        text-shadow: 0 0 1px currentColor;
    }

    &_isLoading {
        background-image: var(--placeholder-image);
        background-size: var(--placeholder-size);
        animation: var(--placeholder-animation);
    }
}
