{"version":3,"sources":["webpack:///./src/app/component/Draggable/Draggable.component.js","webpack:///./src/app/component/Draggable/Draggable.style.scss","webpack:///./src/app/component/Draggable/index.js"],"names":["Draggable","isDragging","originalX","translateX","lastTranslateX","originalY","translateY","lastTranslateY","touches","window","addEventListener","handleTouchMove","handleTouchEnd","length","_handleDragStart","event","handleMouseMove","handleMouseUp","preventDefault","clientX","clientY","state","props","shiftX","shiftY","setState","onDrag","removeEventListener","_handleDragEnd","e","onClick","newState","onDragStart","onDragEnd","children","handleFocus","handleKey","draggableRef","mix","handleMouseDown","handleTouchStart","handleClick","Object","defineProperty","_Draggable","value","PropTypes","number","func","ChildrenType","isRequired","MixType","oneOfType","shape","current","instanceOf","Element","callback"],"mappings":"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","file":"account~cms~misc~product.js","sourcesContent":["/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType, MixType } from 'Type/Common';\n\nimport './Draggable.style';\n\n/** @namespace Component/Draggable/Component */\nexport class Draggable extends PureComponent {\n    static propTypes = {\n        shiftX: PropTypes.number,\n        shiftY: PropTypes.number,\n        onDragStart: PropTypes.func,\n        onClick: PropTypes.func,\n        onDragEnd: PropTypes.func,\n        handleFocus: PropTypes.func,\n        handleKey: PropTypes.func,\n        onDrag: PropTypes.func,\n        children: ChildrenType.isRequired,\n        mix: MixType,\n        draggableRef: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n        ])\n    };\n\n    static defaultProps = {\n        shiftX: 0,\n        shiftY: 0,\n        onDragStart: () => {},\n        onDragEnd: (state, callback) => {\n            const { translateX, translateY } = state;\n\n            callback({\n                originalX: 0,\n                originalY: 0,\n                shiftX: translateX,\n                shiftY: translateY\n            });\n        },\n        onClick: () => {},\n        onDrag: () => {},\n        handleFocus: () => {},\n        handleKey: () => {},\n        draggableRef: () => {},\n        mix: {}\n    };\n\n    state = {\n        isDragging: false,\n        originalX: 0,\n        translateX: 0,\n        lastTranslateX: 0,\n        originalY: 0,\n        translateY: 0,\n        lastTranslateY: 0\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { shiftX, shiftY } = props;\n        const { lastTranslateX, lastTranslateY } = state;\n        if (shiftX !== lastTranslateX || shiftY !== lastTranslateY) {\n            return {\n                lastTranslateX: shiftX,\n                lastTranslateY: shiftY\n            };\n        }\n\n        return null;\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n    }\n\n    handleTouchStart = ({ touches }) => {\n        window.addEventListener('touchmove', this.handleTouchMove);\n        window.addEventListener('touchend', this.handleTouchEnd);\n\n        if (touches.length === 1) {\n            this._handleDragStart(touches[0]);\n        }\n    };\n\n    handleMouseDown = (event) => {\n        window.addEventListener('mousemove', this.handleMouseMove);\n        window.addEventListener('mouseup', this.handleMouseUp);\n\n        event.preventDefault();\n        this._handleDragStart(event);\n    };\n\n    handleTouchMove = ({ touches }) => {\n        if (touches.length === 1) {\n            this.handleMouseMove(touches[0]);\n        }\n    };\n\n    handleMouseMove = ({ clientX, clientY }) => {\n        const { isDragging } = this.state;\n        const { shiftX, shiftY } = this.props;\n\n        if (!isDragging) {\n            return;\n        }\n\n        this.setState(({\n            originalX,\n            originalY\n        }) => ({\n            translateX: clientX - originalX + shiftX,\n            translateY: clientY - originalY + shiftY\n        }), () => {\n            const { onDrag } = this.props;\n            if (onDrag) {\n                onDrag({ ...this.state, clientX, clientY });\n            }\n        });\n    };\n\n    handleTouchEnd = () => {\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n\n        this._handleDragEnd();\n    };\n\n    handleMouseUp = () => {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n\n        this._handleDragEnd();\n    };\n\n    handleClick = (e) => {\n        const { onClick } = this.props;\n\n        if (onClick) {\n            onClick(\n                this.state,\n                (newState) => this.setState({\n                    ...newState,\n                    isDragging: false,\n                    translateX: 0,\n                    translateY: 0\n                }),\n                e\n            );\n        }\n    };\n\n    _handleDragStart({\n        clientX,\n        clientY\n    }) {\n        const { onDragStart } = this.props;\n\n        if (onDragStart) {\n            onDragStart();\n        }\n\n        this.setState({\n            originalX: clientX,\n            originalY: clientY,\n            isDragging: true\n        });\n    }\n\n    _handleDragEnd() {\n        const { onDragEnd } = this.props;\n\n        onDragEnd(this.state, (newState) => this.setState({\n            ...newState,\n            isDragging: false,\n            translateX: 0,\n            translateY: 0\n        }));\n\n        // TO STAY WHERE RELEASED\n        // originalX: 0,\n        // lastTranslateX: translateX,\n        // originalY: 0,\n        // lastTranslateY: translateY,\n\n        // TO RETURN INTO INITIAL\n        // originalX: 0,\n        // lastTranslateX: 0\n        // originalY: 0,\n        // lastTranslateY: 0\n    }\n\n    render() {\n        const {\n            children,\n            handleFocus,\n            handleKey,\n            draggableRef,\n            mix\n        } = this.props;\n\n        return (\n            <div\n              block=\"Draggable\"\n              mix={ mix }\n              ref={ draggableRef }\n              onMouseDown={ this.handleMouseDown }\n              onTouchStart={ this.handleTouchStart }\n              onClick={ this.handleClick }\n              onContextMenu={ this.handleClick }\n              onKeyDown={ handleKey }\n              onFocus={ handleFocus }\n              tabIndex={ 0 }\n              role=\"button\"\n              aria-label=\"Draggable area\"\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607092403244\n      var cssReload = require(\"!../../../../node_modules/css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/base-theme\n * @link https://github.com/scandipwa/base-theme\n */\n\nexport { default } from './Draggable.component';\n"],"sourceRoot":""}